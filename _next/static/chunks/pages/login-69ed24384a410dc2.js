(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{5576:(e,r,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(5291)}])},4793:(e,r,n)=>{"use strict";n.d(r,{A:()=>m});var o=n(4848),i=n(6540),t=n(1106),l=n.n(t),s=n(9713),a=n(4551),c=n(6247),d=n(2064),h=n(3723),u=n(6715);function m(){let e=(0,u.useRouter)(),[r,n]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{localStorage.getItem("adminToken")&&n(!0)},[]),(0,o.jsx)(s.A,{position:"static",children:(0,o.jsxs)(a.A,{children:[(0,o.jsx)(c.A,{variant:"h6",sx:{flexGrow:1},children:"My Portfolio Blog"}),(0,o.jsxs)(d.A,{children:[(0,o.jsx)(l(),{href:"/",passHref:!0,children:(0,o.jsx)(h.A,{color:"inherit",children:"Home"})}),(0,o.jsx)(l(),{href:"/blog",passHref:!0,children:(0,o.jsx)(h.A,{color:"inherit",children:"Blog"})}),(0,o.jsx)(l(),{href:"/resume",passHref:!0,children:(0,o.jsx)(h.A,{color:"inherit",children:"Resume"})}),r?(0,o.jsx)(h.A,{color:"inherit",onClick:()=>{localStorage.removeItem("adminToken"),n(!1),e.push("/login")},children:"Logout"}):(0,o.jsx)(l(),{href:"/login",passHref:!0,children:(0,o.jsx)(h.A,{color:"inherit",children:"Login"})})]})]})})}},5291:(e,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>m});var o=n(4848),i=n(6540),t=n(3750),l=n(1703),s=n(6247),a=n(2064),c=n(9416),d=n(3723),h=n(6715),u=n(4793);function m(){let e=(0,h.useRouter)(),[r,n]=(0,i.useState)(""),[m,g]=(0,i.useState)(""),[x,f]=(0,i.useState)(""),j=async n=>{n.preventDefault(),f("");try{let n=await fetch("".concat("https://my-go-blog-backend.onrender.com","/admin/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:m})});if(!n.ok)throw Error("Login failed");let o=await n.json();localStorage.setItem("adminToken",o.token),e.push("/blog")}catch(e){f("Invalid credentials or login error."),console.error(e)}};return(0,o.jsxs)("div",{children:[(0,o.jsx)(u.A,{}),(0,o.jsx)(t.A,{sx:{marginTop:"2rem"},children:(0,o.jsxs)(l.A,{sx:{padding:"2rem",maxWidth:400,margin:"0 auto"},children:[(0,o.jsx)(s.A,{variant:"h4",gutterBottom:!0,children:"Admin Login"}),x&&(0,o.jsx)(s.A,{color:"error",children:x}),(0,o.jsxs)(a.A,{component:"form",onSubmit:j,children:[(0,o.jsx)(c.A,{label:"Username",variant:"outlined",fullWidth:!0,margin:"normal",value:r,onChange:e=>n(e.target.value),required:!0}),(0,o.jsx)(c.A,{label:"Password",type:"password",variant:"outlined",fullWidth:!0,margin:"normal",value:m,onChange:e=>g(e.target.value),required:!0}),(0,o.jsx)(d.A,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,sx:{mt:2},children:"Login"})]})]})})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[44,416,636,593,792],()=>r(5576)),_N_E=e.O()}]);